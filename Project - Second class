# Code in python 
import subprocess
x = 0
matrix_register = []

while x < 3000000:
    result = subprocess.run(
        ["./src/parallelQuicksort", str(x)], 
        capture_output = True,
        text = True
        )
    lines = result.stdout.splitlines()
    sequential_time = float(lines[0].split()[3])
    parallel_time   = float(lines[1].split()[3])
    builtin_time    = float(lines[2].split()[3])

    matrix_register.append([x, sequential_time, parallel_time, builtin_time])
    x = x + 300000

# print (matrix_register[3]) Prueba  realizada para ver funcionamiento

#graph

import matplotlib.pyplot as plt

sizes = [row[0] for row in matrix_register]         # X
sequential = [row[1] for row in matrix_register]    # Y (secuential)
parallel = [row[2] for row in matrix_register]      # Y (paralLel)
builtin = [row[3] for row in matrix_register]       # Y (built-in)

plt.plot(
    sizes, sequential,
    color="red",
    marker="o",
    label="Sequential"
    )

plt.plot(
    sizes, parallel,
    color="green",
    marker="*",
    label="Parallel"
)

plt.plot(
    sizes, builtin,
    color="blue",
    marker="+",
    label="Built-in"
)

plt.xlabel("Array size")
plt.ylabel("Time")
plt.title("Comparison of Quicksort times")
plt.grid(True)                      #CuadrÃ­cula 
plt.legend(loc='upper right')       #legend
plt.show()
